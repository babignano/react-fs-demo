(window["webpackJsonpreact-fs-demo"]=window["webpackJsonpreact-fs-demo"]||[]).push([[0],{74:function(e,t,n){e.exports=n(94)},79:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),i=(n(79),n(35)),s=n(31),u=n(38),l=n(33),m=n(64),p=n(11);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=Object(l.c)({tasks:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1];return{user:null,tasks:[]}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN_SUCCESS":return Object.assign({},e,h({},t.payload));default:return e}}});var f=n(34),O=n(54),g=n.n(O),E=(n(86),{apiKey:"AIzaSyCVw_JESly7u__LN_3qCVq5P2VKzlMeKF4",authDomain:"react-fs-demo.firebaseapp.com",databaseURL:"https://react-fs-demo.firebaseio.com",projectId:"react-fs-demo",storageBucket:"react-fs-demo.appspot.com",messagingSenderId:"599248273573",appId:"1:599248273573:web:0131db8bed6e665a540d4c"}),w=r.a.createContext(null),j=function e(){var t=this;Object(f.a)(this,e),this.auth=void 0,this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n).then()},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.getUser=function(){return t.auth.currentUser},g.a.initializeApp(E),this.auth=g.a.auth()},v=n(16),y=n(49),S=n(124),P=n(26),k=n(41),I=n(42),C=n(44);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var U={email:"",password:"",error:null,isLoggedIn:!1},N=function(e){function t(e){return Object(f.a)(this,t),Object(k.a)(this,Object(I.a)(t).call(this,e))}return Object(C.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(w.Consumer,null,function(t){return r.a.createElement(W,{auth:t,signInSuccess:e.props.signInSuccess})})}}]),t}(r.a.Component),W=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(k.a)(this,Object(I.a)(t).call(this,e))).handleChange=function(e){switch(e.target.name){case"email":n.setState({email:e.target.value});case"password":n.setState({password:e.target.value})}},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.props.auth.doSignInWithEmailAndPassword(a,r).then(function(e){n.props.signInSuccess(e.user),n.setState({isLoggedIn:!0})}).catch(function(e){n.setState({error:e})})},n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},U),n}return Object(C.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.error;return e.isLoggedIn?r.a.createElement(s.a,{to:"/tasks"}):r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Email:",r.a.createElement("input",{name:"email",type:"email",value:t,onChange:this.handleChange})),r.a.createElement("label",null,"Password:",r.a.createElement("input",{name:"password",type:"Password",value:n,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Submit"}),a&&r.a.createElement("p",null," ",a.message," "))}}]),t}(r.a.Component),A=Object(u.b)(void 0,function(e){return{signInSuccess:function(t){return e(function(e){return function(t){t({type:"SIGNIN_SUCCESS",payload:e})}}(t))}}})(N),x=function(e){function t(){return Object(f.a)(this,t),Object(k.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"User")}}]),t}(r.a.Component),L=n(66),_=n(117),q=n(118);var z=function(e){return r.a.createElement(_.a,null,r.a.createElement(q.a,{primary:e.title,secondary:e.description}))},B=n(119),G=n(53);function J(){var e=Object(L.a)(["\n        {\n            tasks {\n                id,\n                title,\n                description\n            }\n        }\n    "]);return J=function(){return e},e}var K=function(e){var t=Object(G.a)(Object(y.b)(J())),n=t.loading,a=t.error,o=t.data;return n?r.a.createElement("p",null,"Loading..."):a?r.a.createElement("p",null,"Error :("):r.a.createElement(B.a,null,o.tasks.map(function(e){var t=e.id,n=e.title,a=e.description;return r.a.createElement(z,{key:t,id:t,title:n,description:a})}))},R=n(69),V=n(120),M=n(125),F=n(51),T=n(122),$=n(123),H=n(70),Q=n.n(H),X=n(121),Y=Object(V.a)(function(e){return{title:{flexGrow:1},link:{color:"white",textDecoration:"none"}}});var Z=Object(u.b)(function(e){return{user:e.user}})(function(e){var t=Y(e);return r.a.createElement(M.a,{position:"static"},r.a.createElement(X.a,null,r.a.createElement(F.a,{variant:"h6",className:t.title},r.a.createElement(i.b,{to:"/tasks",className:t.link},"My Tasks")),r.a.createElement(T.a,{color:"inherit"},r.a.createElement(i.b,{to:"/signout",className:t.link},"Sign Out")),r.a.createElement($.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit"},r.a.createElement(i.b,{to:"/user",className:t.link},Object(R.get)(e,"user.email"),r.a.createElement(Q.a,null)))))}),ee=(n(93),new y.a({uri:"http://localhost:4000/graphql"}));var te=function(){return r.a.createElement(u.a,{store:Object(l.d)(b,Object(l.a)(m.a))},r.a.createElement(w.Provider,{value:new j},r.a.createElement(v.a,{client:ee},r.a.createElement(i.a,null,r.a.createElement(Z,null),r.a.createElement(S.a,{maxWidth:"sm"},r.a.createElement("div",null,r.a.createElement(s.a,{from:"/",exact:!0,to:"/tasks"}),r.a.createElement(s.b,{path:"/signin",component:A}),r.a.createElement(s.b,{path:"/user",component:x}),r.a.createElement(s.b,{path:"/tasks/:id?",component:K})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[74,1,2]]]);
//# sourceMappingURL=main.9178b60d.chunk.js.map